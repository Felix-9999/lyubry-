{"ast":null,"code":"var fs = require('fs');\nvar path = require('path');\nvar glob = require('glob');\nvar normalizeData = require('normalize-package-data');\nvar safeJSON = require('json-parse-even-better-errors');\nvar util = require('util');\nvar normalizePackageBin = require('npm-normalize-package-bin');\nmodule.exports = readJson;\n\n// put more stuff on here to customize.\nreadJson.extraSet = [bundleDependencies, gypfile, serverjs, scriptpath, authors, readme, mans, bins, githead, fillTypes];\nvar typoWarned = {};\nvar cache = {};\nfunction readJson(file, log_, strict_, cb_) {\n  var log, strict, cb;\n  for (var i = 1; i < arguments.length - 1; i++) {\n    if (typeof arguments[i] === 'boolean') {\n      strict = arguments[i];\n    } else if (typeof arguments[i] === 'function') {\n      log = arguments[i];\n    }\n  }\n  if (!log) {\n    log = function () {};\n  }\n  cb = arguments[arguments.length - 1];\n  readJson_(file, log, strict, cb);\n}\nfunction readJson_(file, log, strict, cb) {\n  fs.readFile(file, 'utf8', function (er, d) {\n    parseJson(file, er, d, log, strict, cb);\n  });\n}\nfunction stripBOM(content) {\n  // Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n  // because the buffer-to-string conversion in `fs.readFileSync()`\n  // translates it to FEFF, the UTF-16 BOM.\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\nfunction jsonClone(obj) {\n  if (obj == null) {\n    return obj;\n  } else if (Array.isArray(obj)) {\n    var newarr = new Array(obj.length);\n    for (var ii in obj) {\n      newarr[ii] = obj[ii];\n    }\n  } else if (typeof obj === 'object') {\n    var newobj = {};\n    for (var kk in obj) {\n      newobj[kk] = jsonClone[kk];\n    }\n  } else {\n    return obj;\n  }\n}\nfunction parseJson(file, er, d, log, strict, cb) {\n  if (er && er.code === 'ENOENT') {\n    return fs.stat(path.dirname(file), function (err, stat) {\n      if (!err && stat && !stat.isDirectory()) {\n        // ENOTDIR isn't used on Windows, but npm expects it.\n        er = Object.create(er);\n        er.code = 'ENOTDIR';\n        return cb(er);\n      } else {\n        return indexjs(file, er, log, strict, cb);\n      }\n    });\n  }\n  if (er) {\n    return cb(er);\n  }\n  if (cache[d]) {\n    return cb(null, jsonClone(cache[d]));\n  }\n  var data;\n  try {\n    data = safeJSON(stripBOM(d));\n    for (var key in data) {\n      if (/^_/.test(key)) {\n        delete data[key];\n      }\n    }\n  } catch (er) {\n    data = parseIndex(d);\n    if (!data) {\n      return cb(parseError(er, file));\n    }\n  }\n  extrasCached(file, d, data, log, strict, cb);\n}\nfunction extrasCached(file, d, data, log, strict, cb) {\n  extras(file, data, log, strict, function (err, data) {\n    if (!err) {\n      cache[d] = jsonClone(data);\n    }\n    cb(err, data);\n  });\n}\nfunction indexjs(file, er, log, strict, cb) {\n  if (path.basename(file) === 'index.js') {\n    return cb(er);\n  }\n  var index = path.resolve(path.dirname(file), 'index.js');\n  fs.readFile(index, 'utf8', function (er2, d) {\n    if (er2) {\n      return cb(er);\n    }\n    if (cache[d]) {\n      return cb(null, cache[d]);\n    }\n    var data = parseIndex(d);\n    if (!data) {\n      return cb(er);\n    }\n    extrasCached(file, d, data, log, strict, cb);\n  });\n}\nreadJson.extras = extras;\nfunction extras(file, data, log_, strict_, cb_) {\n  var log, strict, cb;\n  for (var i = 2; i < arguments.length - 1; i++) {\n    if (typeof arguments[i] === 'boolean') {\n      strict = arguments[i];\n    } else if (typeof arguments[i] === 'function') {\n      log = arguments[i];\n    }\n  }\n  if (!log) {\n    log = function () {};\n  }\n  cb = arguments[i];\n  var set = readJson.extraSet;\n  var n = set.length;\n  var errState = null;\n  set.forEach(function (fn) {\n    fn(file, data, then);\n  });\n  function then(er) {\n    if (errState) {\n      return;\n    }\n    if (er) {\n      return cb(errState = er);\n    }\n    if (--n > 0) {\n      return;\n    }\n    final(file, data, log, strict, cb);\n  }\n}\nfunction scriptpath(file, data, cb) {\n  if (!data.scripts) {\n    return cb(null, data);\n  }\n  var k = Object.keys(data.scripts);\n  k.forEach(scriptpath_, data.scripts);\n  cb(null, data);\n}\nfunction scriptpath_(key) {\n  var s = this[key];\n  // This is never allowed, and only causes problems\n  if (typeof s !== 'string') {\n    return delete this[key];\n  }\n  var spre = /^(\\.[/\\\\])?node_modules[/\\\\].bin[\\\\/]/;\n  if (s.match(spre)) {\n    this[key] = this[key].replace(spre, '');\n  }\n}\nfunction gypfile(file, data, cb) {\n  var dir = path.dirname(file);\n  var s = data.scripts || {};\n  if (s.install || s.preinstall) {\n    return cb(null, data);\n  }\n  glob('*.gyp', {\n    cwd: dir\n  }, function (er, files) {\n    if (er) {\n      return cb(er);\n    }\n    if (data.gypfile === false) {\n      return cb(null, data);\n    }\n    gypfile_(file, data, files, cb);\n  });\n}\nfunction gypfile_(file, data, files, cb) {\n  if (!files.length) {\n    return cb(null, data);\n  }\n  var s = data.scripts || {};\n  s.install = 'node-gyp rebuild';\n  data.scripts = s;\n  data.gypfile = true;\n  return cb(null, data);\n}\nfunction serverjs(file, data, cb) {\n  var dir = path.dirname(file);\n  var s = data.scripts || {};\n  if (s.start) {\n    return cb(null, data);\n  }\n  glob('server.js', {\n    cwd: dir\n  }, function (er, files) {\n    if (er) {\n      return cb(er);\n    }\n    serverjs_(file, data, files, cb);\n  });\n}\nfunction serverjs_(file, data, files, cb) {\n  if (!files.length) {\n    return cb(null, data);\n  }\n  var s = data.scripts || {};\n  s.start = 'node server.js';\n  data.scripts = s;\n  return cb(null, data);\n}\nfunction authors(file, data, cb) {\n  if (data.contributors) {\n    return cb(null, data);\n  }\n  var af = path.resolve(path.dirname(file), 'AUTHORS');\n  fs.readFile(af, 'utf8', function (er, ad) {\n    // ignore error.  just checking it.\n    if (er) {\n      return cb(null, data);\n    }\n    authors_(file, data, ad, cb);\n  });\n}\nfunction authors_(file, data, ad, cb) {\n  ad = ad.split(/\\r?\\n/g).map(function (line) {\n    return line.replace(/^\\s*#.*$/, '').trim();\n  }).filter(function (line) {\n    return line;\n  });\n  data.contributors = ad;\n  return cb(null, data);\n}\nfunction readme(file, data, cb) {\n  if (data.readme) {\n    return cb(null, data);\n  }\n  var dir = path.dirname(file);\n  var globOpts = {\n    cwd: dir,\n    nocase: true,\n    mark: true\n  };\n  glob('{README,README.*}', globOpts, function (er, files) {\n    if (er) {\n      return cb(er);\n    }\n    // don't accept directories.\n    files = files.filter(function (file) {\n      return !file.match(/\\/$/);\n    });\n    if (!files.length) {\n      return cb();\n    }\n    var fn = preferMarkdownReadme(files);\n    var rm = path.resolve(dir, fn);\n    readme_(file, data, rm, cb);\n  });\n}\nfunction preferMarkdownReadme(files) {\n  var fallback = 0;\n  var re = /\\.m?a?r?k?d?o?w?n?$/i;\n  for (var i = 0; i < files.length; i++) {\n    if (files[i].match(re)) {\n      return files[i];\n    } else if (files[i].match(/README$/)) {\n      fallback = i;\n    }\n  }\n  // prefer README.md, followed by README; otherwise, return\n  // the first filename (which could be README)\n  return files[fallback];\n}\nfunction readme_(file, data, rm, cb) {\n  var rmfn = path.basename(rm);\n  fs.readFile(rm, 'utf8', function (er, rm) {\n    // maybe not readable, or something.\n    if (er) {\n      return cb();\n    }\n    data.readme = rm;\n    data.readmeFilename = rmfn;\n    return cb(er, data);\n  });\n}\nfunction mans(file, data, cb) {\n  let cwd = data.directories && data.directories.man;\n  if (data.man || !cwd) {\n    return cb(null, data);\n  }\n  const dirname = path.dirname(file);\n  cwd = path.resolve(path.dirname(file), cwd);\n  glob('**/*.[0-9]', {\n    cwd\n  }, function (er, mans) {\n    if (er) {\n      return cb(er);\n    }\n    data.man = mans.map(man => path.relative(dirname, path.join(cwd, man)));\n    return cb(null, data);\n  });\n}\nfunction bins(file, data, cb) {\n  data = normalizePackageBin(data);\n  var m = data.directories && data.directories.bin;\n  if (data.bin || !m) {\n    return cb(null, data);\n  }\n  m = path.resolve(path.dirname(file), m);\n  glob('**', {\n    cwd: m\n  }, function (er, bins) {\n    if (er) {\n      return cb(er);\n    }\n    bins_(file, data, bins, cb);\n  });\n}\nfunction bins_(file, data, bins, cb) {\n  var m = data.directories && data.directories.bin || '.';\n  data.bin = bins.reduce(function (acc, mf) {\n    if (mf && mf.charAt(0) !== '.') {\n      var f = path.basename(mf);\n      acc[f] = path.join(m, mf);\n    }\n    return acc;\n  }, {});\n  return cb(null, normalizePackageBin(data));\n}\nfunction bundleDependencies(file, data, cb) {\n  var bd = 'bundleDependencies';\n  var bdd = 'bundledDependencies';\n  // normalize key name\n  if (data[bdd] !== undefined) {\n    if (data[bd] === undefined) {\n      data[bd] = data[bdd];\n    }\n    delete data[bdd];\n  }\n  if (data[bd] === false) {\n    delete data[bd];\n  } else if (data[bd] === true) {\n    data[bd] = Object.keys(data.dependencies || {});\n  } else if (data[bd] !== undefined && !Array.isArray(data[bd])) {\n    delete data[bd];\n  }\n  return cb(null, data);\n}\nfunction githead(file, data, cb) {\n  if (data.gitHead) {\n    return cb(null, data);\n  }\n  var dir = path.dirname(file);\n  var head = path.resolve(dir, '.git/HEAD');\n  fs.readFile(head, 'utf8', function (er, head) {\n    if (er) {\n      var parent = path.dirname(dir);\n      if (parent === dir) {\n        return cb(null, data);\n      }\n      return githead(dir, data, cb);\n    }\n    githead_(data, dir, head, cb);\n  });\n}\nfunction githead_(data, dir, head, cb) {\n  if (!head.match(/^ref: /)) {\n    data.gitHead = head.trim();\n    return cb(null, data);\n  }\n  var headRef = head.replace(/^ref: /, '').trim();\n  var headFile = path.resolve(dir, '.git', headRef);\n  fs.readFile(headFile, 'utf8', function (er, head) {\n    if (er || !head) {\n      var packFile = path.resolve(dir, '.git/packed-refs');\n      return fs.readFile(packFile, 'utf8', function (er, refs) {\n        if (er || !refs) {\n          return cb(null, data);\n        }\n        refs = refs.split('\\n');\n        for (var i = 0; i < refs.length; i++) {\n          var match = refs[i].match(/^([0-9a-f]{40}) (.+)$/);\n          if (match && match[2].trim() === headRef) {\n            data.gitHead = match[1];\n            break;\n          }\n        }\n        return cb(null, data);\n      });\n    }\n    head = head.replace(/^ref: /, '').trim();\n    data.gitHead = head;\n    return cb(null, data);\n  });\n}\n\n/**\n * Warn if the bin references don't point to anything.  This might be better in\n * normalize-package-data if it had access to the file path.\n */\nfunction checkBinReferences_(file, data, warn, cb) {\n  if (!(data.bin instanceof Object)) {\n    return cb();\n  }\n  var keys = Object.keys(data.bin);\n  var keysLeft = keys.length;\n  if (!keysLeft) {\n    return cb();\n  }\n  function handleExists(relName, result) {\n    keysLeft--;\n    if (!result) {\n      warn('No bin file found at ' + relName);\n    }\n    if (!keysLeft) {\n      cb();\n    }\n  }\n  keys.forEach(function (key) {\n    var dirName = path.dirname(file);\n    var relName = data.bin[key];\n    /* istanbul ignore if - impossible, bins have been normalized */\n    if (typeof relName !== 'string') {\n      var msg = 'Bin filename for ' + key + ' is not a string: ' + util.inspect(relName);\n      warn(msg);\n      delete data.bin[key];\n      handleExists(relName, true);\n      return;\n    }\n    var binPath = path.resolve(dirName, relName);\n    fs.stat(binPath, err => handleExists(relName, !err));\n  });\n}\nfunction final(file, data, log, strict, cb) {\n  var pId = makePackageId(data);\n  function warn(msg) {\n    if (typoWarned[pId]) {\n      return;\n    }\n    if (log) {\n      log('package.json', pId, msg);\n    }\n  }\n  try {\n    normalizeData(data, warn, strict);\n  } catch (error) {\n    return cb(error);\n  }\n  checkBinReferences_(file, data, warn, function () {\n    typoWarned[pId] = true;\n    cb(null, data);\n  });\n}\nfunction fillTypes(file, data, cb) {\n  var index = data.main ? data.main : 'index.js';\n\n  // TODO exports is much more complicated than this in verbose format\n  // We need to support for instance\n\n  // \"exports\": {\n  //   \".\": [\n  //     {\n  //       \"default\": \"./lib/npm.js\"\n  //     },\n  //     \"./lib/npm.js\"\n  //   ],\n  //   \"./package.json\": \"./package.json\"\n  // },\n  // as well as conditional exports\n\n  // if (data.exports && typeof data.exports === 'string') {\n  //   index = data.exports\n  // }\n\n  // if (data.exports && data.exports['.']) {\n  //   index = data.exports['.']\n  //   if (typeof index !== 'string') {\n  //   }\n  // }\n\n  var extless = path.join(path.dirname(index), path.basename(index, path.extname(index)));\n  var dts = `./${extless}.d.ts`;\n  var dtsPath = path.join(path.dirname(file), dts);\n  var hasDTSFields = 'types' in data || 'typings' in data;\n  if (!hasDTSFields && fs.existsSync(dtsPath)) {\n    data.types = dts;\n  }\n  cb(null, data);\n}\nfunction makePackageId(data) {\n  var name = cleanString(data.name);\n  var ver = cleanString(data.version);\n  return name + '@' + ver;\n}\nfunction cleanString(str) {\n  return !str || typeof str !== 'string' ? '' : str.trim();\n}\n\n// /**package { \"name\": \"foo\", \"version\": \"1.2.3\", ... } **/\nfunction parseIndex(data) {\n  data = data.split(/^\\/\\*\\*package(?:\\s|$)/m);\n  if (data.length < 2) {\n    return null;\n  }\n  data = data[1];\n  data = data.split(/\\*\\*\\/$/m);\n  if (data.length < 2) {\n    return null;\n  }\n  data = data[0];\n  data = data.replace(/^\\s*\\*/mg, '');\n  try {\n    return safeJSON(data);\n  } catch (er) {\n    return null;\n  }\n}\nfunction parseError(ex, file) {\n  var e = new Error('Failed to parse json\\n' + ex.message);\n  e.code = 'EJSONPARSE';\n  e.path = file;\n  return e;\n}","map":{"version":3,"names":["fs","require","path","glob","normalizeData","safeJSON","util","normalizePackageBin","module","exports","readJson","extraSet","bundleDependencies","gypfile","serverjs","scriptpath","authors","readme","mans","bins","githead","fillTypes","typoWarned","cache","file","log_","strict_","cb_","log","strict","cb","i","arguments","length","readJson_","readFile","er","d","parseJson","stripBOM","content","charCodeAt","slice","jsonClone","obj","Array","isArray","newarr","ii","newobj","kk","code","stat","dirname","err","isDirectory","Object","create","indexjs","data","key","test","parseIndex","parseError","extrasCached","extras","basename","index","resolve","er2","set","n","errState","forEach","fn","then","final","scripts","k","keys","scriptpath_","s","spre","match","replace","dir","install","preinstall","cwd","files","gypfile_","start","serverjs_","contributors","af","ad","authors_","split","map","line","trim","filter","globOpts","nocase","mark","preferMarkdownReadme","rm","readme_","fallback","re","rmfn","readmeFilename","directories","man","relative","join","m","bin","bins_","reduce","acc","mf","charAt","f","bd","bdd","undefined","dependencies","gitHead","head","parent","githead_","headRef","headFile","packFile","refs","checkBinReferences_","warn","keysLeft","handleExists","relName","result","dirName","msg","inspect","binPath","pId","makePackageId","error","main","extless","extname","dts","dtsPath","hasDTSFields","existsSync","types","name","cleanString","ver","version","str","ex","e","Error","message"],"sources":["C:/Users/Felo/node_modules/npm/node_modules/read-package-json/read-json.js"],"sourcesContent":["var fs = require('fs')\n\nvar path = require('path')\n\nvar glob = require('glob')\nvar normalizeData = require('normalize-package-data')\nvar safeJSON = require('json-parse-even-better-errors')\nvar util = require('util')\nvar normalizePackageBin = require('npm-normalize-package-bin')\n\nmodule.exports = readJson\n\n// put more stuff on here to customize.\nreadJson.extraSet = [\n  bundleDependencies,\n  gypfile,\n  serverjs,\n  scriptpath,\n  authors,\n  readme,\n  mans,\n  bins,\n  githead,\n  fillTypes,\n]\n\nvar typoWarned = {}\nvar cache = {}\n\nfunction readJson (file, log_, strict_, cb_) {\n  var log, strict, cb\n  for (var i = 1; i < arguments.length - 1; i++) {\n    if (typeof arguments[i] === 'boolean') {\n      strict = arguments[i]\n    } else if (typeof arguments[i] === 'function') {\n      log = arguments[i]\n    }\n  }\n\n  if (!log) {\n    log = function () {}\n  }\n  cb = arguments[arguments.length - 1]\n\n  readJson_(file, log, strict, cb)\n}\n\nfunction readJson_ (file, log, strict, cb) {\n  fs.readFile(file, 'utf8', function (er, d) {\n    parseJson(file, er, d, log, strict, cb)\n  })\n}\n\nfunction stripBOM (content) {\n  // Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n  // because the buffer-to-string conversion in `fs.readFileSync()`\n  // translates it to FEFF, the UTF-16 BOM.\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1)\n  }\n  return content\n}\n\nfunction jsonClone (obj) {\n  if (obj == null) {\n    return obj\n  } else if (Array.isArray(obj)) {\n    var newarr = new Array(obj.length)\n    for (var ii in obj) {\n      newarr[ii] = obj[ii]\n    }\n  } else if (typeof obj === 'object') {\n    var newobj = {}\n    for (var kk in obj) {\n      newobj[kk] = jsonClone[kk]\n    }\n  } else {\n    return obj\n  }\n}\n\nfunction parseJson (file, er, d, log, strict, cb) {\n  if (er && er.code === 'ENOENT') {\n    return fs.stat(path.dirname(file), function (err, stat) {\n      if (!err && stat && !stat.isDirectory()) {\n        // ENOTDIR isn't used on Windows, but npm expects it.\n        er = Object.create(er)\n        er.code = 'ENOTDIR'\n        return cb(er)\n      } else {\n        return indexjs(file, er, log, strict, cb)\n      }\n    })\n  }\n  if (er) {\n    return cb(er)\n  }\n\n  if (cache[d]) {\n    return cb(null, jsonClone(cache[d]))\n  }\n\n  var data\n\n  try {\n    data = safeJSON(stripBOM(d))\n    for (var key in data) {\n      if (/^_/.test(key)) {\n        delete data[key]\n      }\n    }\n  } catch (er) {\n    data = parseIndex(d)\n    if (!data) {\n      return cb(parseError(er, file))\n    }\n  }\n\n  extrasCached(file, d, data, log, strict, cb)\n}\n\nfunction extrasCached (file, d, data, log, strict, cb) {\n  extras(file, data, log, strict, function (err, data) {\n    if (!err) {\n      cache[d] = jsonClone(data)\n    }\n    cb(err, data)\n  })\n}\n\nfunction indexjs (file, er, log, strict, cb) {\n  if (path.basename(file) === 'index.js') {\n    return cb(er)\n  }\n\n  var index = path.resolve(path.dirname(file), 'index.js')\n  fs.readFile(index, 'utf8', function (er2, d) {\n    if (er2) {\n      return cb(er)\n    }\n\n    if (cache[d]) {\n      return cb(null, cache[d])\n    }\n\n    var data = parseIndex(d)\n    if (!data) {\n      return cb(er)\n    }\n\n    extrasCached(file, d, data, log, strict, cb)\n  })\n}\n\nreadJson.extras = extras\nfunction extras (file, data, log_, strict_, cb_) {\n  var log, strict, cb\n  for (var i = 2; i < arguments.length - 1; i++) {\n    if (typeof arguments[i] === 'boolean') {\n      strict = arguments[i]\n    } else if (typeof arguments[i] === 'function') {\n      log = arguments[i]\n    }\n  }\n\n  if (!log) {\n    log = function () {}\n  }\n  cb = arguments[i]\n\n  var set = readJson.extraSet\n  var n = set.length\n  var errState = null\n  set.forEach(function (fn) {\n    fn(file, data, then)\n  })\n\n  function then (er) {\n    if (errState) {\n      return\n    }\n    if (er) {\n      return cb(errState = er)\n    }\n    if (--n > 0) {\n      return\n    }\n    final(file, data, log, strict, cb)\n  }\n}\n\nfunction scriptpath (file, data, cb) {\n  if (!data.scripts) {\n    return cb(null, data)\n  }\n  var k = Object.keys(data.scripts)\n  k.forEach(scriptpath_, data.scripts)\n  cb(null, data)\n}\n\nfunction scriptpath_ (key) {\n  var s = this[key]\n  // This is never allowed, and only causes problems\n  if (typeof s !== 'string') {\n    return delete this[key]\n  }\n\n  var spre = /^(\\.[/\\\\])?node_modules[/\\\\].bin[\\\\/]/\n  if (s.match(spre)) {\n    this[key] = this[key].replace(spre, '')\n  }\n}\n\nfunction gypfile (file, data, cb) {\n  var dir = path.dirname(file)\n  var s = data.scripts || {}\n  if (s.install || s.preinstall) {\n    return cb(null, data)\n  }\n\n  glob('*.gyp', { cwd: dir }, function (er, files) {\n    if (er) {\n      return cb(er)\n    }\n    if (data.gypfile === false) {\n      return cb(null, data)\n    }\n    gypfile_(file, data, files, cb)\n  })\n}\n\nfunction gypfile_ (file, data, files, cb) {\n  if (!files.length) {\n    return cb(null, data)\n  }\n  var s = data.scripts || {}\n  s.install = 'node-gyp rebuild'\n  data.scripts = s\n  data.gypfile = true\n  return cb(null, data)\n}\n\nfunction serverjs (file, data, cb) {\n  var dir = path.dirname(file)\n  var s = data.scripts || {}\n  if (s.start) {\n    return cb(null, data)\n  }\n  glob('server.js', { cwd: dir }, function (er, files) {\n    if (er) {\n      return cb(er)\n    }\n    serverjs_(file, data, files, cb)\n  })\n}\n\nfunction serverjs_ (file, data, files, cb) {\n  if (!files.length) {\n    return cb(null, data)\n  }\n  var s = data.scripts || {}\n  s.start = 'node server.js'\n  data.scripts = s\n  return cb(null, data)\n}\n\nfunction authors (file, data, cb) {\n  if (data.contributors) {\n    return cb(null, data)\n  }\n  var af = path.resolve(path.dirname(file), 'AUTHORS')\n  fs.readFile(af, 'utf8', function (er, ad) {\n    // ignore error.  just checking it.\n    if (er) {\n      return cb(null, data)\n    }\n    authors_(file, data, ad, cb)\n  })\n}\n\nfunction authors_ (file, data, ad, cb) {\n  ad = ad.split(/\\r?\\n/g).map(function (line) {\n    return line.replace(/^\\s*#.*$/, '').trim()\n  }).filter(function (line) {\n    return line\n  })\n  data.contributors = ad\n  return cb(null, data)\n}\n\nfunction readme (file, data, cb) {\n  if (data.readme) {\n    return cb(null, data)\n  }\n  var dir = path.dirname(file)\n  var globOpts = { cwd: dir, nocase: true, mark: true }\n  glob('{README,README.*}', globOpts, function (er, files) {\n    if (er) {\n      return cb(er)\n    }\n    // don't accept directories.\n    files = files.filter(function (file) {\n      return !file.match(/\\/$/)\n    })\n    if (!files.length) {\n      return cb()\n    }\n    var fn = preferMarkdownReadme(files)\n    var rm = path.resolve(dir, fn)\n    readme_(file, data, rm, cb)\n  })\n}\n\nfunction preferMarkdownReadme (files) {\n  var fallback = 0\n  var re = /\\.m?a?r?k?d?o?w?n?$/i\n  for (var i = 0; i < files.length; i++) {\n    if (files[i].match(re)) {\n      return files[i]\n    } else if (files[i].match(/README$/)) {\n      fallback = i\n    }\n  }\n  // prefer README.md, followed by README; otherwise, return\n  // the first filename (which could be README)\n  return files[fallback]\n}\n\nfunction readme_ (file, data, rm, cb) {\n  var rmfn = path.basename(rm)\n  fs.readFile(rm, 'utf8', function (er, rm) {\n    // maybe not readable, or something.\n    if (er) {\n      return cb()\n    }\n    data.readme = rm\n    data.readmeFilename = rmfn\n    return cb(er, data)\n  })\n}\n\nfunction mans (file, data, cb) {\n  let cwd = data.directories && data.directories.man\n  if (data.man || !cwd) {\n    return cb(null, data)\n  }\n  const dirname = path.dirname(file)\n  cwd = path.resolve(path.dirname(file), cwd)\n  glob('**/*.[0-9]', { cwd }, function (er, mans) {\n    if (er) {\n      return cb(er)\n    }\n    data.man = mans.map(man => path.relative(dirname, path.join(cwd, man)))\n    return cb(null, data)\n  })\n}\n\nfunction bins (file, data, cb) {\n  data = normalizePackageBin(data)\n\n  var m = data.directories && data.directories.bin\n  if (data.bin || !m) {\n    return cb(null, data)\n  }\n\n  m = path.resolve(path.dirname(file), m)\n  glob('**', { cwd: m }, function (er, bins) {\n    if (er) {\n      return cb(er)\n    }\n    bins_(file, data, bins, cb)\n  })\n}\n\nfunction bins_ (file, data, bins, cb) {\n  var m = (data.directories && data.directories.bin) || '.'\n  data.bin = bins.reduce(function (acc, mf) {\n    if (mf && mf.charAt(0) !== '.') {\n      var f = path.basename(mf)\n      acc[f] = path.join(m, mf)\n    }\n    return acc\n  }, {})\n  return cb(null, normalizePackageBin(data))\n}\n\nfunction bundleDependencies (file, data, cb) {\n  var bd = 'bundleDependencies'\n  var bdd = 'bundledDependencies'\n  // normalize key name\n  if (data[bdd] !== undefined) {\n    if (data[bd] === undefined) {\n      data[bd] = data[bdd]\n    }\n    delete data[bdd]\n  }\n  if (data[bd] === false) {\n    delete data[bd]\n  } else if (data[bd] === true) {\n    data[bd] = Object.keys(data.dependencies || {})\n  } else if (data[bd] !== undefined && !Array.isArray(data[bd])) {\n    delete data[bd]\n  }\n  return cb(null, data)\n}\n\nfunction githead (file, data, cb) {\n  if (data.gitHead) {\n    return cb(null, data)\n  }\n  var dir = path.dirname(file)\n  var head = path.resolve(dir, '.git/HEAD')\n  fs.readFile(head, 'utf8', function (er, head) {\n    if (er) {\n      var parent = path.dirname(dir)\n      if (parent === dir) {\n        return cb(null, data)\n      }\n      return githead(dir, data, cb)\n    }\n    githead_(data, dir, head, cb)\n  })\n}\n\nfunction githead_ (data, dir, head, cb) {\n  if (!head.match(/^ref: /)) {\n    data.gitHead = head.trim()\n    return cb(null, data)\n  }\n  var headRef = head.replace(/^ref: /, '').trim()\n  var headFile = path.resolve(dir, '.git', headRef)\n  fs.readFile(headFile, 'utf8', function (er, head) {\n    if (er || !head) {\n      var packFile = path.resolve(dir, '.git/packed-refs')\n      return fs.readFile(packFile, 'utf8', function (er, refs) {\n        if (er || !refs) {\n          return cb(null, data)\n        }\n        refs = refs.split('\\n')\n        for (var i = 0; i < refs.length; i++) {\n          var match = refs[i].match(/^([0-9a-f]{40}) (.+)$/)\n          if (match && match[2].trim() === headRef) {\n            data.gitHead = match[1]\n            break\n          }\n        }\n        return cb(null, data)\n      })\n    }\n    head = head.replace(/^ref: /, '').trim()\n    data.gitHead = head\n    return cb(null, data)\n  })\n}\n\n/**\n * Warn if the bin references don't point to anything.  This might be better in\n * normalize-package-data if it had access to the file path.\n */\nfunction checkBinReferences_ (file, data, warn, cb) {\n  if (!(data.bin instanceof Object)) {\n    return cb()\n  }\n\n  var keys = Object.keys(data.bin)\n  var keysLeft = keys.length\n  if (!keysLeft) {\n    return cb()\n  }\n\n  function handleExists (relName, result) {\n    keysLeft--\n    if (!result) {\n      warn('No bin file found at ' + relName)\n    }\n    if (!keysLeft) {\n      cb()\n    }\n  }\n\n  keys.forEach(function (key) {\n    var dirName = path.dirname(file)\n    var relName = data.bin[key]\n    /* istanbul ignore if - impossible, bins have been normalized */\n    if (typeof relName !== 'string') {\n      var msg = 'Bin filename for ' + key +\n        ' is not a string: ' + util.inspect(relName)\n      warn(msg)\n      delete data.bin[key]\n      handleExists(relName, true)\n      return\n    }\n    var binPath = path.resolve(dirName, relName)\n    fs.stat(binPath, (err) => handleExists(relName, !err))\n  })\n}\n\nfunction final (file, data, log, strict, cb) {\n  var pId = makePackageId(data)\n\n  function warn (msg) {\n    if (typoWarned[pId]) {\n      return\n    }\n    if (log) {\n      log('package.json', pId, msg)\n    }\n  }\n\n  try {\n    normalizeData(data, warn, strict)\n  } catch (error) {\n    return cb(error)\n  }\n\n  checkBinReferences_(file, data, warn, function () {\n    typoWarned[pId] = true\n    cb(null, data)\n  })\n}\n\nfunction fillTypes (file, data, cb) {\n  var index = data.main ? data.main : 'index.js'\n\n  // TODO exports is much more complicated than this in verbose format\n  // We need to support for instance\n\n  // \"exports\": {\n  //   \".\": [\n  //     {\n  //       \"default\": \"./lib/npm.js\"\n  //     },\n  //     \"./lib/npm.js\"\n  //   ],\n  //   \"./package.json\": \"./package.json\"\n  // },\n  // as well as conditional exports\n\n  // if (data.exports && typeof data.exports === 'string') {\n  //   index = data.exports\n  // }\n\n  // if (data.exports && data.exports['.']) {\n  //   index = data.exports['.']\n  //   if (typeof index !== 'string') {\n  //   }\n  // }\n\n  var extless =\n    path.join(path.dirname(index), path.basename(index, path.extname(index)))\n  var dts = `./${extless}.d.ts`\n  var dtsPath = path.join(path.dirname(file), dts)\n  var hasDTSFields = 'types' in data || 'typings' in data\n  if (!hasDTSFields && fs.existsSync(dtsPath)) {\n    data.types = dts\n  }\n\n  cb(null, data)\n}\n\nfunction makePackageId (data) {\n  var name = cleanString(data.name)\n  var ver = cleanString(data.version)\n  return name + '@' + ver\n}\n\nfunction cleanString (str) {\n  return (!str || typeof (str) !== 'string') ? '' : str.trim()\n}\n\n// /**package { \"name\": \"foo\", \"version\": \"1.2.3\", ... } **/\nfunction parseIndex (data) {\n  data = data.split(/^\\/\\*\\*package(?:\\s|$)/m)\n\n  if (data.length < 2) {\n    return null\n  }\n  data = data[1]\n  data = data.split(/\\*\\*\\/$/m)\n\n  if (data.length < 2) {\n    return null\n  }\n  data = data[0]\n  data = data.replace(/^\\s*\\*/mg, '')\n\n  try {\n    return safeJSON(data)\n  } catch (er) {\n    return null\n  }\n}\n\nfunction parseError (ex, file) {\n  var e = new Error('Failed to parse json\\n' + ex.message)\n  e.code = 'EJSONPARSE'\n  e.path = file\n  return e\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}