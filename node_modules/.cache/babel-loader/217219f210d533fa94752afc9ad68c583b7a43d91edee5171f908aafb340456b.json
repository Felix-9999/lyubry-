{"ast":null,"code":"// Function to determine whether a path is in the package.bin set.\n// Used to prevent issues when people publish a package from a\n// windows machine, and then install with --no-bin-links.\n//\n// Note: this is not possible in remote or file fetchers, since\n// we don't have the manifest until AFTER we've unpacked.  But the\n// main use case is registry fetching with git a distant second,\n// so that's an acceptable edge case to not handle.\n\nconst binObj = (name, bin) => typeof bin === 'string' ? {\n  [name]: bin\n} : bin;\nconst hasBin = (pkg, path) => {\n  const bin = binObj(pkg.name, pkg.bin);\n  const p = path.replace(/^[^\\\\\\/]*\\//, '');\n  for (const [k, v] of Object.entries(bin)) {\n    if (v === p) return true;\n  }\n  return false;\n};\nmodule.exports = (pkg, path) => pkg && pkg.bin ? hasBin(pkg, path) : false;","map":{"version":3,"names":["binObj","name","bin","hasBin","pkg","path","p","replace","k","v","Object","entries","module","exports"],"sources":["C:/Users/Felo/node_modules/npm/node_modules/pacote/lib/util/is-package-bin.js"],"sourcesContent":["// Function to determine whether a path is in the package.bin set.\n// Used to prevent issues when people publish a package from a\n// windows machine, and then install with --no-bin-links.\n//\n// Note: this is not possible in remote or file fetchers, since\n// we don't have the manifest until AFTER we've unpacked.  But the\n// main use case is registry fetching with git a distant second,\n// so that's an acceptable edge case to not handle.\n\nconst binObj = (name, bin) =>\n  typeof bin === 'string' ? { [name]: bin } : bin\n\nconst hasBin = (pkg, path) => {\n  const bin = binObj(pkg.name, pkg.bin)\n  const p = path.replace(/^[^\\\\\\/]*\\//, '')\n  for (const [k, v] of Object.entries(bin)) {\n    if (v === p)\n      return true\n  }\n  return false\n}\n\nmodule.exports = (pkg, path) =>\n  pkg && pkg.bin ? hasBin(pkg, path) : false\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMA,MAAM,GAAGA,CAACC,IAAI,EAAEC,GAAG,KACvB,OAAOA,GAAG,KAAK,QAAQ,GAAG;EAAE,CAACD,IAAI,GAAGC;AAAI,CAAC,GAAGA,GAAG;AAEjD,MAAMC,MAAM,GAAGA,CAACC,GAAG,EAAEC,IAAI,KAAK;EAC5B,MAAMH,GAAG,GAAGF,MAAM,CAACI,GAAG,CAACH,IAAI,EAAEG,GAAG,CAACF,GAAG,CAAC;EACrC,MAAMI,CAAC,GAAGD,IAAI,CAACE,OAAO,CAAC,aAAa,EAAE,EAAE,CAAC;EACzC,KAAK,MAAM,CAACC,CAAC,EAAEC,CAAC,CAAC,IAAIC,MAAM,CAACC,OAAO,CAACT,GAAG,CAAC,EAAE;IACxC,IAAIO,CAAC,KAAKH,CAAC,EACT,OAAO,IAAI;EACf;EACA,OAAO,KAAK;AACd,CAAC;AAEDM,MAAM,CAACC,OAAO,GAAG,CAACT,GAAG,EAAEC,IAAI,KACzBD,GAAG,IAAIA,GAAG,CAACF,GAAG,GAAGC,MAAM,CAACC,GAAG,EAAEC,IAAI,CAAC,GAAG,KAAK","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}