{"ast":null,"code":"// de-reference abbreviations and shorthands into canonical command name\n\nconst {\n  aliases,\n  cmdList,\n  plumbing\n} = require('../utils/cmd-list.js');\nconst aliasNames = Object.keys(aliases);\nconst fullList = cmdList.concat(aliasNames).filter(c => !plumbing.includes(c));\nconst abbrev = require('abbrev');\nconst abbrevs = abbrev(fullList);\nmodule.exports = c => {\n  if (!c || typeof c !== 'string') return '';\n  if (c.match(/[A-Z]/)) c = c.replace(/([A-Z])/g, m => '-' + m.toLowerCase());\n  if (plumbing.indexOf(c) !== -1) return c;\n\n  // first deref the abbrev, if there is one\n  // then resolve any aliases\n  // so `npm install-cl` will resolve to `install-clean` then to `ci`\n  let a = abbrevs[c];\n  while (aliases[a]) a = aliases[a];\n  return a || '';\n};","map":{"version":3,"names":["aliases","cmdList","plumbing","require","aliasNames","Object","keys","fullList","concat","filter","c","includes","abbrev","abbrevs","module","exports","match","replace","m","toLowerCase","indexOf","a"],"sources":["C:/Users/Felo/node_modules/npm/lib/utils/deref-command.js"],"sourcesContent":["// de-reference abbreviations and shorthands into canonical command name\n\nconst { aliases, cmdList, plumbing } = require('../utils/cmd-list.js')\nconst aliasNames = Object.keys(aliases)\nconst fullList = cmdList.concat(aliasNames).filter(c => !plumbing.includes(c))\nconst abbrev = require('abbrev')\nconst abbrevs = abbrev(fullList)\n\nmodule.exports = c => {\n  if (!c || typeof c !== 'string')\n    return ''\n\n  if (c.match(/[A-Z]/))\n    c = c.replace(/([A-Z])/g, m => '-' + m.toLowerCase())\n\n  if (plumbing.indexOf(c) !== -1)\n    return c\n\n  // first deref the abbrev, if there is one\n  // then resolve any aliases\n  // so `npm install-cl` will resolve to `install-clean` then to `ci`\n  let a = abbrevs[c]\n  while (aliases[a])\n    a = aliases[a]\n\n  return a || ''\n}\n"],"mappings":"AAAA;;AAEA,MAAM;EAAEA,OAAO;EAAEC,OAAO;EAAEC;AAAS,CAAC,GAAGC,OAAO,CAAC,sBAAsB,CAAC;AACtE,MAAMC,UAAU,GAAGC,MAAM,CAACC,IAAI,CAACN,OAAO,CAAC;AACvC,MAAMO,QAAQ,GAAGN,OAAO,CAACO,MAAM,CAACJ,UAAU,CAAC,CAACK,MAAM,CAACC,CAAC,IAAI,CAACR,QAAQ,CAACS,QAAQ,CAACD,CAAC,CAAC,CAAC;AAC9E,MAAME,MAAM,GAAGT,OAAO,CAAC,QAAQ,CAAC;AAChC,MAAMU,OAAO,GAAGD,MAAM,CAACL,QAAQ,CAAC;AAEhCO,MAAM,CAACC,OAAO,GAAGL,CAAC,IAAI;EACpB,IAAI,CAACA,CAAC,IAAI,OAAOA,CAAC,KAAK,QAAQ,EAC7B,OAAO,EAAE;EAEX,IAAIA,CAAC,CAACM,KAAK,CAAC,OAAO,CAAC,EAClBN,CAAC,GAAGA,CAAC,CAACO,OAAO,CAAC,UAAU,EAAEC,CAAC,IAAI,GAAG,GAAGA,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC;EAEvD,IAAIjB,QAAQ,CAACkB,OAAO,CAACV,CAAC,CAAC,KAAK,CAAC,CAAC,EAC5B,OAAOA,CAAC;;EAEV;EACA;EACA;EACA,IAAIW,CAAC,GAAGR,OAAO,CAACH,CAAC,CAAC;EAClB,OAAOV,OAAO,CAACqB,CAAC,CAAC,EACfA,CAAC,GAAGrB,OAAO,CAACqB,CAAC,CAAC;EAEhB,OAAOA,CAAC,IAAI,EAAE;AAChB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}