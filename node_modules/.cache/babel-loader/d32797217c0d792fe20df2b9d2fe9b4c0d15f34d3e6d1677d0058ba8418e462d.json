{"ast":null,"code":"const prompt = 'This operation requires a one-time password.\\nEnter OTP:';\nconst readUserInfo = require('./read-user-info.js');\nconst isOtpError = err => err.code === 'EOTP' || err.code === 'E401' && /one-time pass/.test(err.body);\nmodule.exports = otplease;\nfunction otplease(opts, fn) {\n  opts = {\n    prompt,\n    ...opts\n  };\n  return Promise.resolve().then(() => fn(opts)).catch(err => {\n    if (!isOtpError(err)) throw err;else if (!process.stdin.isTTY || !process.stdout.isTTY) throw err;else {\n      return readUserInfo.otp(opts.prompt).then(otp => fn({\n        ...opts,\n        otp\n      }));\n    }\n  });\n}","map":{"version":3,"names":["prompt","readUserInfo","require","isOtpError","err","code","test","body","module","exports","otplease","opts","fn","Promise","resolve","then","catch","process","stdin","isTTY","stdout","otp"],"sources":["C:/Users/Felo/node_modules/npm/lib/utils/otplease.js"],"sourcesContent":["const prompt = 'This operation requires a one-time password.\\nEnter OTP:'\nconst readUserInfo = require('./read-user-info.js')\n\nconst isOtpError = err =>\n  err.code === 'EOTP' || (err.code === 'E401' && /one-time pass/.test(err.body))\n\nmodule.exports = otplease\nfunction otplease (opts, fn) {\n  opts = { prompt, ...opts }\n  return Promise.resolve().then(() => fn(opts)).catch(err => {\n    if (!isOtpError(err))\n      throw err\n    else if (!process.stdin.isTTY || !process.stdout.isTTY)\n      throw err\n    else {\n      return readUserInfo.otp(opts.prompt)\n        .then(otp => fn({ ...opts, otp }))\n    }\n  })\n}\n"],"mappings":"AAAA,MAAMA,MAAM,GAAG,0DAA0D;AACzE,MAAMC,YAAY,GAAGC,OAAO,CAAC,qBAAqB,CAAC;AAEnD,MAAMC,UAAU,GAAGC,GAAG,IACpBA,GAAG,CAACC,IAAI,KAAK,MAAM,IAAKD,GAAG,CAACC,IAAI,KAAK,MAAM,IAAI,eAAe,CAACC,IAAI,CAACF,GAAG,CAACG,IAAI,CAAE;AAEhFC,MAAM,CAACC,OAAO,GAAGC,QAAQ;AACzB,SAASA,QAAQA,CAAEC,IAAI,EAAEC,EAAE,EAAE;EAC3BD,IAAI,GAAG;IAAEX,MAAM;IAAE,GAAGW;EAAK,CAAC;EAC1B,OAAOE,OAAO,CAACC,OAAO,CAAC,CAAC,CAACC,IAAI,CAAC,MAAMH,EAAE,CAACD,IAAI,CAAC,CAAC,CAACK,KAAK,CAACZ,GAAG,IAAI;IACzD,IAAI,CAACD,UAAU,CAACC,GAAG,CAAC,EAClB,MAAMA,GAAG,MACN,IAAI,CAACa,OAAO,CAACC,KAAK,CAACC,KAAK,IAAI,CAACF,OAAO,CAACG,MAAM,CAACD,KAAK,EACpD,MAAMf,GAAG,MACN;MACH,OAAOH,YAAY,CAACoB,GAAG,CAACV,IAAI,CAACX,MAAM,CAAC,CACjCe,IAAI,CAACM,GAAG,IAAIT,EAAE,CAAC;QAAE,GAAGD,IAAI;QAAEU;MAAI,CAAC,CAAC,CAAC;IACtC;EACF,CAAC,CAAC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}