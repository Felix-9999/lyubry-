{"ast":null,"code":"const log = require('npmlog');\nconst npa = require('npm-package-arg');\nconst regFetch = require('npm-registry-fetch');\nconst semver = require('semver');\nconst otplease = require('./utils/otplease.js');\nconst readPackageName = require('./utils/read-package-name.js');\nconst BaseCommand = require('./base-command.js');\nclass DistTag extends BaseCommand {\n  static get description() {\n    return 'Modify package distribution tags';\n  }\n\n  /* istanbul ignore next - see test/lib/load-all-commands.js */\n  static get params() {\n    return ['workspace', 'workspaces'];\n  }\n\n  /* istanbul ignore next - see test/lib/load-all-commands.js */\n  static get name() {\n    return 'dist-tag';\n  }\n\n  /* istanbul ignore next - see test/lib/load-all-commands.js */\n  static get usage() {\n    return ['add <pkg>@<version> [<tag>]', 'rm <pkg> <tag>', 'ls [<pkg>]'];\n  }\n  async completion(opts) {\n    const argv = opts.conf.argv.remain;\n    if (argv.length === 2) return ['add', 'rm', 'ls'];\n    switch (argv[2]) {\n      default:\n        return [];\n    }\n  }\n  exec(args, cb) {\n    this.distTag(args).then(() => cb()).catch(cb);\n  }\n  async distTag([cmdName, pkg, tag]) {\n    const opts = this.npm.flatOptions;\n    if (['add', 'a', 'set', 's'].includes(cmdName)) return this.add(pkg, tag, opts);\n    if (['rm', 'r', 'del', 'd', 'remove'].includes(cmdName)) return this.remove(pkg, tag, opts);\n    if (['ls', 'l', 'sl', 'list'].includes(cmdName)) return this.list(pkg, opts);\n    if (!pkg) {\n      // when only using the pkg name the default behavior\n      // should be listing the existing tags\n      return this.list(cmdName, opts);\n    } else throw this.usageError();\n  }\n  execWorkspaces(args, filters, cb) {\n    this.distTagWorkspaces(args, filters).then(() => cb()).catch(cb);\n  }\n  async distTagWorkspaces([cmdName, pkg, tag], filters) {\n    // cmdName is some form of list\n    // pkg is one of:\n    // - unset\n    // - .\n    // - .@version\n    if (['ls', 'l', 'sl', 'list'].includes(cmdName) && (!pkg || pkg === '.' || /^\\.@/.test(pkg))) return this.listWorkspaces(filters);\n\n    // pkg is unset\n    // cmdName is one of:\n    // - unset\n    // - .\n    // - .@version\n    if (!pkg && (!cmdName || cmdName === '.' || /^\\.@/.test(cmdName))) return this.listWorkspaces(filters);\n\n    // anything else is just a regular dist-tag command\n    // so we fallback to the non-workspaces implementation\n    log.warn('Ignoring workspaces for specified package');\n    return this.distTag([cmdName, pkg, tag]);\n  }\n  async add(spec, tag, opts) {\n    spec = npa(spec || '');\n    const version = spec.rawSpec;\n    const defaultTag = tag || this.npm.config.get('tag');\n    log.verbose('dist-tag add', defaultTag, 'to', spec.name + '@' + version);\n    if (!spec.name || !version || !defaultTag) throw this.usageError();\n    const t = defaultTag.trim();\n    if (semver.validRange(t)) throw new Error('Tag name must not be a valid SemVer range: ' + t);\n    const tags = await this.fetchTags(spec, opts);\n    if (tags[t] === version) {\n      log.warn('dist-tag add', t, 'is already set to version', version);\n      return;\n    }\n    tags[t] = version;\n    const url = `/-/package/${spec.escapedName}/dist-tags/${encodeURIComponent(t)}`;\n    const reqOpts = {\n      ...opts,\n      method: 'PUT',\n      body: JSON.stringify(version),\n      headers: {\n        'content-type': 'application/json'\n      },\n      spec\n    };\n    await otplease(reqOpts, reqOpts => regFetch(url, reqOpts));\n    this.npm.output(`+${t}: ${spec.name}@${version}`);\n  }\n  async remove(spec, tag, opts) {\n    spec = npa(spec || '');\n    log.verbose('dist-tag del', tag, 'from', spec.name);\n    if (!spec.name) throw this.usageError();\n    const tags = await this.fetchTags(spec, opts);\n    if (!tags[tag]) {\n      log.info('dist-tag del', tag, 'is not a dist-tag on', spec.name);\n      throw new Error(tag + ' is not a dist-tag on ' + spec.name);\n    }\n    const version = tags[tag];\n    delete tags[tag];\n    const url = `/-/package/${spec.escapedName}/dist-tags/${encodeURIComponent(tag)}`;\n    const reqOpts = {\n      ...opts,\n      method: 'DELETE',\n      spec\n    };\n    await otplease(reqOpts, reqOpts => regFetch(url, reqOpts));\n    this.npm.output(`-${tag}: ${spec.name}@${version}`);\n  }\n  async list(spec, opts) {\n    if (!spec) {\n      if (this.npm.config.get('global')) throw this.usageError();\n      const pkg = await readPackageName(this.npm.prefix);\n      if (!pkg) throw this.usageError();\n      return this.list(pkg, opts);\n    }\n    spec = npa(spec);\n    try {\n      const tags = await this.fetchTags(spec, opts);\n      const msg = Object.keys(tags).map(k => `${k}: ${tags[k]}`).sort().join('\\n');\n      this.npm.output(msg);\n      return tags;\n    } catch (err) {\n      log.error('dist-tag ls', \"Couldn't get dist-tag data for\", spec);\n      throw err;\n    }\n  }\n  async listWorkspaces(filters) {\n    await this.setWorkspaces(filters);\n    for (const name of this.workspaceNames) {\n      try {\n        this.npm.output(`${name}:`);\n        await this.list(npa(name), this.npm.flatOptions);\n      } catch (err) {\n        // set the exitCode directly, but ignore the error\n        // since it will have already been logged by this.list()\n        process.exitCode = 1;\n      }\n    }\n  }\n  async fetchTags(spec, opts) {\n    const data = await regFetch.json(`/-/package/${spec.escapedName}/dist-tags`, {\n      ...opts,\n      'prefer-online': true,\n      spec\n    });\n    if (data && typeof data === 'object') delete data._etag;\n    if (!data || !Object.keys(data).length) throw new Error('No dist-tags found for ' + spec.name);\n    return data;\n  }\n}\nmodule.exports = DistTag;","map":{"version":3,"names":["log","require","npa","regFetch","semver","otplease","readPackageName","BaseCommand","DistTag","description","params","name","usage","completion","opts","argv","conf","remain","length","exec","args","cb","distTag","then","catch","cmdName","pkg","tag","npm","flatOptions","includes","add","remove","list","usageError","execWorkspaces","filters","distTagWorkspaces","test","listWorkspaces","warn","spec","version","rawSpec","defaultTag","config","get","verbose","t","trim","validRange","Error","tags","fetchTags","url","escapedName","encodeURIComponent","reqOpts","method","body","JSON","stringify","headers","output","info","prefix","msg","Object","keys","map","k","sort","join","err","error","setWorkspaces","workspaceNames","process","exitCode","data","json","_etag","module","exports"],"sources":["C:/Users/Felo/node_modules/npm/lib/dist-tag.js"],"sourcesContent":["const log = require('npmlog')\nconst npa = require('npm-package-arg')\nconst regFetch = require('npm-registry-fetch')\nconst semver = require('semver')\n\nconst otplease = require('./utils/otplease.js')\nconst readPackageName = require('./utils/read-package-name.js')\nconst BaseCommand = require('./base-command.js')\n\nclass DistTag extends BaseCommand {\n  static get description () {\n    return 'Modify package distribution tags'\n  }\n\n  /* istanbul ignore next - see test/lib/load-all-commands.js */\n  static get params () {\n    return ['workspace', 'workspaces']\n  }\n\n  /* istanbul ignore next - see test/lib/load-all-commands.js */\n  static get name () {\n    return 'dist-tag'\n  }\n\n  /* istanbul ignore next - see test/lib/load-all-commands.js */\n  static get usage () {\n    return [\n      'add <pkg>@<version> [<tag>]',\n      'rm <pkg> <tag>',\n      'ls [<pkg>]',\n    ]\n  }\n\n  async completion (opts) {\n    const argv = opts.conf.argv.remain\n    if (argv.length === 2)\n      return ['add', 'rm', 'ls']\n\n    switch (argv[2]) {\n      default:\n        return []\n    }\n  }\n\n  exec (args, cb) {\n    this.distTag(args).then(() => cb()).catch(cb)\n  }\n\n  async distTag ([cmdName, pkg, tag]) {\n    const opts = this.npm.flatOptions\n\n    if (['add', 'a', 'set', 's'].includes(cmdName))\n      return this.add(pkg, tag, opts)\n\n    if (['rm', 'r', 'del', 'd', 'remove'].includes(cmdName))\n      return this.remove(pkg, tag, opts)\n\n    if (['ls', 'l', 'sl', 'list'].includes(cmdName))\n      return this.list(pkg, opts)\n\n    if (!pkg) {\n      // when only using the pkg name the default behavior\n      // should be listing the existing tags\n      return this.list(cmdName, opts)\n    } else\n      throw this.usageError()\n  }\n\n  execWorkspaces (args, filters, cb) {\n    this.distTagWorkspaces(args, filters).then(() => cb()).catch(cb)\n  }\n\n  async distTagWorkspaces ([cmdName, pkg, tag], filters) {\n    // cmdName is some form of list\n    // pkg is one of:\n    // - unset\n    // - .\n    // - .@version\n    if (['ls', 'l', 'sl', 'list'].includes(cmdName) && (!pkg || pkg === '.' || /^\\.@/.test(pkg)))\n      return this.listWorkspaces(filters)\n\n    // pkg is unset\n    // cmdName is one of:\n    // - unset\n    // - .\n    // - .@version\n    if (!pkg && (!cmdName || cmdName === '.' || /^\\.@/.test(cmdName)))\n      return this.listWorkspaces(filters)\n\n    // anything else is just a regular dist-tag command\n    // so we fallback to the non-workspaces implementation\n    log.warn('Ignoring workspaces for specified package')\n    return this.distTag([cmdName, pkg, tag])\n  }\n\n  async add (spec, tag, opts) {\n    spec = npa(spec || '')\n    const version = spec.rawSpec\n    const defaultTag = tag || this.npm.config.get('tag')\n\n    log.verbose('dist-tag add', defaultTag, 'to', spec.name + '@' + version)\n\n    if (!spec.name || !version || !defaultTag)\n      throw this.usageError()\n\n    const t = defaultTag.trim()\n\n    if (semver.validRange(t))\n      throw new Error('Tag name must not be a valid SemVer range: ' + t)\n\n    const tags = await this.fetchTags(spec, opts)\n    if (tags[t] === version) {\n      log.warn('dist-tag add', t, 'is already set to version', version)\n      return\n    }\n    tags[t] = version\n    const url =\n      `/-/package/${spec.escapedName}/dist-tags/${encodeURIComponent(t)}`\n    const reqOpts = {\n      ...opts,\n      method: 'PUT',\n      body: JSON.stringify(version),\n      headers: {\n        'content-type': 'application/json',\n      },\n      spec,\n    }\n    await otplease(reqOpts, reqOpts => regFetch(url, reqOpts))\n    this.npm.output(`+${t}: ${spec.name}@${version}`)\n  }\n\n  async remove (spec, tag, opts) {\n    spec = npa(spec || '')\n    log.verbose('dist-tag del', tag, 'from', spec.name)\n\n    if (!spec.name)\n      throw this.usageError()\n\n    const tags = await this.fetchTags(spec, opts)\n    if (!tags[tag]) {\n      log.info('dist-tag del', tag, 'is not a dist-tag on', spec.name)\n      throw new Error(tag + ' is not a dist-tag on ' + spec.name)\n    }\n    const version = tags[tag]\n    delete tags[tag]\n    const url =\n      `/-/package/${spec.escapedName}/dist-tags/${encodeURIComponent(tag)}`\n    const reqOpts = {\n      ...opts,\n      method: 'DELETE',\n      spec,\n    }\n    await otplease(reqOpts, reqOpts => regFetch(url, reqOpts))\n    this.npm.output(`-${tag}: ${spec.name}@${version}`)\n  }\n\n  async list (spec, opts) {\n    if (!spec) {\n      if (this.npm.config.get('global'))\n        throw this.usageError()\n      const pkg = await readPackageName(this.npm.prefix)\n      if (!pkg)\n        throw this.usageError()\n\n      return this.list(pkg, opts)\n    }\n    spec = npa(spec)\n\n    try {\n      const tags = await this.fetchTags(spec, opts)\n      const msg =\n        Object.keys(tags).map(k => `${k}: ${tags[k]}`).sort().join('\\n')\n      this.npm.output(msg)\n      return tags\n    } catch (err) {\n      log.error('dist-tag ls', \"Couldn't get dist-tag data for\", spec)\n      throw err\n    }\n  }\n\n  async listWorkspaces (filters) {\n    await this.setWorkspaces(filters)\n\n    for (const name of this.workspaceNames) {\n      try {\n        this.npm.output(`${name}:`)\n        await this.list(npa(name), this.npm.flatOptions)\n      } catch (err) {\n        // set the exitCode directly, but ignore the error\n        // since it will have already been logged by this.list()\n        process.exitCode = 1\n      }\n    }\n  }\n\n  async fetchTags (spec, opts) {\n    const data = await regFetch.json(\n      `/-/package/${spec.escapedName}/dist-tags`,\n      { ...opts, 'prefer-online': true, spec }\n    )\n    if (data && typeof data === 'object')\n      delete data._etag\n    if (!data || !Object.keys(data).length)\n      throw new Error('No dist-tags found for ' + spec.name)\n\n    return data\n  }\n}\nmodule.exports = DistTag\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}